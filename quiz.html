<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Judo ‚Äì Dojo Num√©rique</title>
  <link rel="stylesheet" href="styles/style.css">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f9f9f9; }
    h1 { color: #b30000; text-align: center; }
    .question { 
      margin-bottom: 25px; 
      padding: 20px; 
      background: white; 
      border-radius: 8px; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    button { 
      margin: 8px; 
      padding: 12px 18px; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer; 
      background-color: #e6f0ff;
      color: #0044cc;
      font-size: 1em;
      transition: all 0.3s ease;
    }
    button:hover {
      background-color: #0044cc;
      color: white;
    }
    button:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }
    .resultat { 
      font-weight: bold; 
      margin-top: 30px; 
      font-size: 1.3em; 
      color: #006600; 
      text-align: center;
      padding: 20px;
      background: #d4edda;
      border-radius: 8px;
    }
    .score { 
      font-size: 1.1em; 
      margin: 15px 0; 
      color: #333;
    }
    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      margin: 15px 0;
    }
    .progress {
      height: 100%;
      background: #B22222;
      border-radius: 5px;
      transition: width 0.3s ease;
    }
  </style>
</head>
<body>
  <header>
    <h1>üéØ Quiz Judo ‚Äì Teste tes connaissances</h1>
    <p>10 questions pour v√©rifier tes connaissances du Judo</p>
  </header>

  <div class="score" id="score">Score : 0/10</div>
  <div class="progress-bar">
    <div class="progress" id="progress" style="width: 0%"></div>
  </div>

  <div id="quiz"></div>
  <div class="resultat" id="resultat"></div>

  <nav style="margin-top: 30px;">
    <a class="lien-bleu" href="index.html">‚¨ÖÔ∏è Retour √† l'accueil</a>
    <a class="lien-bleu" href="videos-par-grade.html">üìΩÔ∏è Voir les vid√©os</a>
  </nav>

  <script>
    const questions = [
      { 
        q: "Quel est le sens du mot 'Judo' ?", 
        r: "Voie de la souplesse", 
        o: ["Art du combat", "Voie de la souplesse", "Technique de projection"] 
      },
      { 
        q: "Quelle est une technique de hanche ?", 
        r: "O-goshi", 
        o: ["De-ashi-harai", "O-goshi", "Kesa-gatame"] 
      },
      { 
        q: "Quelle est une technique de projection avec les mains ?", 
        r: "Seoi-nage", 
        o: ["Uchi-mata", "Seoi-nage", "Yoko-shiho-gatame"] 
      },
      { 
        q: "Quel est le r√¥le du salut (Rei) ?", 
        r: "Respect et concentration", 
        o: ["Commencer le combat", "Respect et concentration", "Demander l'autorisation"] 
      },
      { 
        q: "Quelle est une immobilisation ?", 
        r: "Kesa-gatame", 
        o: ["Tai-otoshi", "Kesa-gatame", "Tomoe-nage"] 
      },
      { 
        q: "Quel est le nom du fondateur du Judo ?", 
        r: "Jigoro Kano", 
        o: ["Miyamoto Musashi", "Jigoro Kano", "Gichin Funakoshi"] 
      },
      { 
        q: "Que signifie 'Randori' ?", 
        r: "Combat souple d'entra√Ænement", 
        o: ["Combat officiel", "Combat souple d'entra√Ænement", "Examen de grade"] 
      },
      { 
        q: "Quelle est une technique de jambe ?", 
        r: "De-ashi-harai", 
        o: ["O-goshi", "De-ashi-harai", "Kesa-gatame"] 
      },
      { 
        q: "Que fait-on en entrant sur le tatami ?", 
        r: "On salue", 
        o: ["On court", "On salue", "On s'√©chauffe"] 
      },
      { 
        q: "Quelle est la couleur de la ceinture pour les d√©butants ?", 
        r: "Blanche", 
        o: ["Jaune", "Blanche", "Orange"] 
      }
    ];

    let score = 0;
    let questionsRepondues = 0;
    const quizDiv = document.getElementById("quiz");
    const scoreDiv = document.getElementById("score");
    const progressBar = document.getElementById("progress");

    function mettreAJourProgression() {
      const progression = (questionsRepondues / questions.length) * 100;
      progressBar.style.width = progression + '%';
      scoreDiv.textContent = `Score : ${score}/${questionsRepondues} - Progression : ${questionsRepondues}/${questions.length}`;
    }

    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<h3>${i + 1}. ${q.q}</h3>`;
      
      q.o.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => {
          if (opt === q.r) {
            score++;
            btn.style.backgroundColor = "#c8e6c9";
            btn.style.color = "#155724";
          } else {
            btn.style.backgroundColor = "#ffcdd2";
            btn.style.color = "#721c24";
          }
          
          // D√©sactiver tous les boutons de cette question
          Array.from(div.querySelectorAll("button")).forEach(b => b.disabled = true);
          
          questionsRepondues++;
          mettreAJourProgression();
          
          // Message final quand toutes les questions sont r√©pondues
          if (questionsRepondues === questions.length) {
            let message = "";
            if (score >= 8) {
              message = "ü•ã Excellent ! Tu ma√Ætrises les bases du Judo !";
            } else if (score >= 5) {
              message = "üëç Bien ! Continue √† apprendre !";
            } else {
              message = "üí™ Continue √† r√©viser, tu progresses !";
            }
            document.getElementById("resultat").innerHTML = `
              ${message}<br>
              <strong>Score final : ${score}/10</strong><br>
              <em>"Le judo commence et finit par le respect." - Jigoro Kano</em>
            `;
          }
        };
        div.appendChild(btn);
      });
      quizDiv.appendChild(div);
    });

    // Initialiser la progression
    mettreAJourProgression();
  </script>
</body>
</html>