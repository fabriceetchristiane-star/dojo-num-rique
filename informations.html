<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Informations â€“ Dojo NumÃ©rique</title>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <header>
    <h1>ğŸ“¢ Informations du Dojo</h1>
    <p>Agenda, stages, rÃ©sultats de compÃ©titions et actualitÃ©s</p>
    <button id="btnEdition" class="lien-bleu" style="width: auto; margin: 10px auto; display: none;">
      âœï¸ Mode Ã‰dition
    </button>
  </header>

  <section>
    <!-- Section Agenda (fixe) -->
    <div class="section-title">ğŸ“… Agenda Visuel JAK Lambersart 2025â€“2026</div>
    
    <div class="video-block">
      <h3>ğŸ¥‹ Septembre 2025</h3>
      <ul style="padding-left: 20px;">
        <li><strong>Jujitsu Fighting</strong> : Jeudi 18 septembre (19h30â€“21h00)</li>
      </ul>
    </div>

    <!-- Sections modifiables -->
    <div class="section-title">ğŸ† RÃ©sultats CompÃ©titions</div>
    <div class="video-block section-editable" data-section="resultats">
      <div class="contenu-view">
        <p><strong>Derniers rÃ©sultats Ã  venir...</strong></p>
        <p>Les professeurs mettront Ã  jour les rÃ©sultats des compÃ©titions ici.</p>
      </div>
      <div class="contenu-edit" style="display: none;">
        <textarea style="width: 100%; height: 150px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;" 
                  placeholder="Entrez les rÃ©sultats des compÃ©titions..."></textarea>
        <button class="btn-sauvegarder lien-bleu" style="width: auto; margin-top: 10px;">
          ğŸ’¾ Sauvegarder
        </button>
      </div>
    </div>

    <div class="section-title">ğŸ“° DerniÃ¨res ActualitÃ©s</div>
    <div class="video-block section-editable" data-section="actualites">
      <div class="contenu-view">
        <p><strong>Bienvenue au Dojo NumÃ©rique !</strong></p>
        <p>â€¢ Nouveau site en ligne pour suivre votre progression</p>
        <p>â€¢ Retrouvez toutes les vidÃ©os techniques par grade</p>
        <p>â€¢ Quiz interactif pour tester vos connaissances</p>
      </div>
      <div class="contenu-edit" style="display: none;">
        <textarea style="width: 100%; height: 200px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;" 
                  placeholder="Entrez les actualitÃ©s du dojo..."></textarea>
        <button class="btn-sauvegarder lien-bleu" style="width: auto; margin-top: 10px;">
          ğŸ’¾ Sauvegarder
        </button>
      </div>
    </div>

    <div class="section-title">ğŸ“ Contact & Informations Pratiques</div>
    <div class="video-block section-editable" data-section="contact">
      <div class="contenu-view">
        <p><strong>ğŸ“ Lieu</strong> : Dojo JAK Lambersart</p>
        <p><strong>ğŸ‘¨â€ğŸ« Professeurs</strong> : Ã‰quipe pÃ©dagogique du club</p>
        <p><strong>ğŸ“§ Contact</strong> : jak-lambersart@example.com</p>
        <p><strong>ğŸ“ TÃ©lÃ©phone</strong> : 03.XX.XX.XX.XX</p>
        <p><strong>ğŸ•’ Horaires</strong> : Voir planning ci-dessus</p>
      </div>
      <div class="contenu-edit" style="display: none;">
        <textarea style="width: 100%; height: 180px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;" 
                  placeholder="Entrez les informations de contact..."></textarea>
        <button class="btn-sauvegarder lien-bleu" style="width: auto; margin-top: 10px;">
          ğŸ’¾ Sauvegarder
        </button>
      </div>
    </div>

    <!-- Section d'administration -->
    <div id="admin-login" class="video-block" style="background: #f8f9fa; text-align: center;">
      <h3>ğŸ” AccÃ¨s Professeur</h3>
      <div id="login-form">
        <input type="password" id="admin-password" placeholder="Mot de passe professeur" 
               style="padding: 10px; margin: 10px; width: 200px; border: 1px solid #ddd; border-radius: 5px;">
        <button onclick="verifierPassword()" class="lien-bleu" style="width: auto;">
          ğŸ”“ Se connecter
        </button>
      </div>
      <div id="admin-actions" style="display: none;">
        <p>âœ… Mode administration activÃ©</p>
        <button onclick="deconnexionAdmin()" class="lien-bleu" style="width: auto; background: #dc3545;">
          ğŸšª Se dÃ©connecter
        </button>
      </div>
    </div>
  </section>

  <nav style="text-align: center; margin-top: 30px;">
    <a class="lien-bleu" href="index.html">ğŸ  Retour Ã  l'accueil</a>
  </nav>

  <footer>
    <p>Version locale â€“ Dojo NumÃ©rique Lambersart â€“ DerniÃ¨re mise Ã  jour : <span id="date-maj"></span></p>
  </footer>

  <script>
    const MOT_DE_PASSE_ADMIN = "jak2025";
    let modeEdition = false;

    // Date de mise Ã  jour
    document.getElementById('date-maj').textContent = new Date().toLocaleDateString('fr-FR');

    // VÃ©rification du mot de passe
    function verifierPassword() {
      const password = document.getElementById('admin-password').value;
      if (password === MOT_DE_PASSE_ADMIN) {
        modeEdition = true;
        document.getElementById('login-form').style.display = 'none';
        document.getElementById('admin-actions').style.display = 'block';
        document.getElementById('btnEdition').style.display = 'block';
        chargerContenus();
      } else {
        alert('Mot de passe incorrect');
      }
    }

    function deconnexionAdmin() {
      modeEdition = false;
      document.getElementById('login-form').style.display = 'block';
      document.getElementById('admin-actions').style.display = 'none';
      document.getElementById('btnEdition').style.display = 'none';
      desactiverEdition();
    }

    // Charger les contenus sauvegardÃ©s
    function chargerContenus() {
      ['resultats', 'actualites', 'contact'].forEach(section => {
        const contenu = localStorage.getItem(`info-${section}`);
        if (contenu) {
          const element = document.querySelector(`[data-section="${section}"] .contenu-view`);
          if (element) element.innerHTML = contenu;
        }
      });
    }

    // Activation du mode Ã©dition
    document.getElementById('btnEdition').addEventListener('click', function() {
      if (!modeEdition) return;
      
      const sections = document.querySelectorAll('.section-editable');
      const estEnEdition = this.textContent.includes('Ã‰dition');
      
      if (estEnEdition) {
        desactiverEdition();
        this.textContent = 'âœï¸ Mode Ã‰dition';
      } else {
        activerEdition();
        this.textContent = 'ğŸ’¾ Quitter Ã‰dition';
      }
    });

    function activerEdition() {
      document.querySelectorAll('.section-editable').forEach(section => {
        const view = section.querySelector('.contenu-view');
        const edit = section.querySelector('.contenu-edit');
        const textarea = section.querySelector('textarea');
        
        if (view && edit && textarea) {
          // Sauvegarder le contenu actuel dans le textarea
          textarea.value = view.innerHTML;
          view.style.display = 'none';
          edit.style.display = 'block';
        }
      });
    }

    function desactiverEdition() {
      document.querySelectorAll('.section-editable').forEach(section => {
        const view = section.querySelector('.contenu-view');
        const edit = section.querySelector('.contenu-edit');
        
        if (view && edit) {
          edit.style.display = 'none';
          view.style.display = 'block';
        }
      });
    }

    // Sauvegarde des contenus
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('btn-sauvegarder')) {
        const section = e.target.closest('.section-editable');
        const sectionId = section.dataset.section;
        const textarea = section.querySelector('textarea');
        const view = section.querySelector('.contenu-view');
        
        if (textarea && view) {
          // Sauvegarder dans le localStorage
          localStorage.setItem(`info-${sectionId}`, textarea.value);
          // Mettre Ã  jour l'affichage
          view.innerHTML = textarea.value;
          
          // Mettre Ã  jour la date
          document.getElementById('date-maj').textContent = new Date().toLocaleDateString('fr-FR');
          
          // Retour en mode visualisation
          desactiverEdition();
          document.getElementById('btnEdition').textContent = 'âœï¸ Mode Ã‰dition';
          
          alert('âœ… Contenu sauvegardÃ© !');
        }
      }
    });

    // Charger au dÃ©marrage
    document.addEventListener('DOMContentLoaded', function() {
      chargerContenus();
    });
  </script>
</body>
</html>